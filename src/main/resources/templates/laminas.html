<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<title th:text="'Láminas de ' + ${album.nombre}">Láminas</title>
</head>
<body>
	<p style="text-align: right;">
		<a href="/auth/logout" onclick="localStorage.removeItem('jwtToken');">Cerrar sesión</a>
	</p>
	<h1 th:text="'Láminas de ' + ${album.nombre}">Láminas</h1>

	<p>
		<a th:href="@{'/vista/albumes/' + ${album.id}}">Volver al álbum</a> |
		<a th:href="@{'/vista/albumes/' + ${album.id} + '/laminas/nueva'}">Agregar lámina individual</a> |
		<a th:href="@{'/vista/albumes/' + ${album.id} + '/laminas/lote'}">Agregar láminas por lote</a>
	</p>

	<table border="1" cellpadding="4" cellspacing="0">
		<thead>
			<tr>
				<th>Número</th>
				<th>Tipo</th>
				<th>Estado</th>
				<th>Repetidas</th>
				<th>Eliminar</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="lamina : ${laminas}">
				<td th:text="${lamina.numero}"></td>
				<td th:text="${lamina.tipo}"></td>
				<td th:text="${lamina.estado}"></td>
				<td th:text="${lamina.cantidadRepetidas}"></td>
				<td>
					
					
					<form th:action="@{'/vista/albumes/' + ${album.id} + '/laminas/' + ${lamina.id} + '/eliminar'}" method="post" style="display:inline">
						<button type="submit">Eliminar</button>
					</form>
				</td>
			</tr>
		</tbody>
	</table>

	<div th:if="${totalPaginas != null}">
		<p>
			<span th:text="'Página ' + (${paginaActual} + 1) + ' de ' + (${totalPaginas == 0} ? 1 : ${totalPaginas})"></span>
		</p>
		<p>
			<span th:if="${paginaActual > 0}">
				<a th:href="@{/vista/albumes/{id}/laminas(id=${album.id},pagina=${paginaActual - 1})}">Anterior</a>
			</span>
			<span th:unless="${paginaActual > 0}">Anterior</span>

			|

			<span th:if="${paginaActual + 1 < totalPaginas}">
				<a th:href="@{/vista/albumes/{id}/laminas(id=${album.id},pagina=${paginaActual + 1})}">Siguiente</a>
			</span>
			<span th:unless="${paginaActual + 1 < totalPaginas}">Siguiente</span>
		</p>
	</div>
</body>
</html>
